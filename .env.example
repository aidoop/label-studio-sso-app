# ==============================================================================
# Label Studio + SSO 환경변수 템플릿 (필수 설정만)
# ==============================================================================
#
# 사용 방법:
#   1. cp .env.example .env
#   2. 비밀번호 변경
#   3. docker-compose up -d
#
# ==============================================================================

# ==============================================================================
# PostgreSQL 설정
# ==============================================================================
POSTGRES_DB=labelstudio
POSTGRES_USER=postgres
POSTGRES_PASSWORD=dev_postgres_2024

# ==============================================================================
# Label Studio 접속 설정
# ==============================================================================
# Label Studio URL (서브도메인 구조)
# - 메인 앱: http://hatiolab.com
# - Label Studio: http://label.hatiolab.com:8080
LABEL_STUDIO_HOST=http://label.hatiolab.com:8080

# ==============================================================================
# 서브도메인 간 쿠키 공유 (세션 공유를 위해 필수!)
# ==============================================================================
# 앞에 점(.)을 붙여야 서브도메인 간 공유 가능
SESSION_COOKIE_DOMAIN=.hatiolab.com
CSRF_COOKIE_DOMAIN=.hatiolab.com

# HTTPS 환경에서 Secure 플래그 설정
# - HTTP 로컬 환경: false (기본값)
# - HTTPS 개발/프로덕션: true (필수!)
SESSION_COOKIE_SECURE=false
CSRF_COOKIE_SECURE=false

# ==============================================================================
# Backend API 설정
# ==============================================================================
# Label Studio API Token (초기 사용자 생성 후 make create-token으로 발급)
# 주의: 실제 토큰 발급 전까지는 YOUR_API_TOKEN_HERE로 유지
LABEL_STUDIO_API_TOKEN=YOUR_API_TOKEN_HERE

# ==============================================================================
# SSO App 설정
# ==============================================================================
# SSO App Frontend URL (CORS, 리다이렉트 등에 사용)
# - 로컬 개발: http://hatiolab.com:3000
# - 프로덕션: https://app.hatiolab.com
FRONTEND_URL=http://hatiolab.com:3000

# SSO App 쿠키 도메인 (서브도메인 간 JWT 쿠키 공유)
# - 로컬 개발: .hatiolab.com
# - 프로덕션: .hatiolab.com
COOKIE_DOMAIN=.hatiolab.com

# CORS 허용 도메인 (* 또는 특정 URL)
# - 로컬 개발: http://hatiolab.com:3000
# - 프로덕션: https://app.hatiolab.com
# - 모든 도메인 허용: *
CORS_ORIGIN=http://hatiolab.com:3000

# ==============================================================================
# Frontend 설정 (Vite 환경변수)
# ==============================================================================
# Label Studio URL (프론트엔드에서 iframe으로 접근)
# - 로컬 개발: http://label.hatiolab.com:8080
# - 프로덕션: https://label.hatiolab.com
VITE_LABEL_STUDIO_URL=http://label.hatiolab.com:8080

# Backend API URL (프론트엔드에서 API 호출)
# - 개발 모드: 빈 문자열 (Vite proxy 사용)
# - 프로덕션: https://api.hatiolab.com
VITE_BACKEND_URL=

# Vite 개발 서버 설정
# - 호스트 도메인
VITE_DEV_HOST=hatiolab.com
# - 포트
VITE_DEV_PORT=3000

# ==============================================================================
# 선택적 보안 헤더 설정
# ==============================================================================
# iframe 임베딩 허용 도메인 (CSP frame-ancestors)
# 예: CSP_FRAME_ANCESTORS='self' http://hatiolab.com:3000
# CSP_FRAME_ANCESTORS=

# X-Frame-Options 헤더 (구형 브라우저용)
# 옵션: DENY, SAMEORIGIN
# X_FRAME_OPTIONS=
